# Supabase Configuration for Nutrition Calculator

# ============================================
# PROJECT CONFIGURATION
# ============================================

# Your Supabase project URL
VITE_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co

# Your Supabase anon/public key (safe to expose in frontend)
VITE_SUPABASE_ANON_KEY=your-anon-key-here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Optional: Service role key (NEVER expose in frontend, server-side only)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL connection string (for direct connections)
DATABASE_URL=postgresql://postgres:your-password@db.your-project-ref.supabase.co:5432/postgres

# Connection pooling (recommended for production)
DATABASE_POOL_URL=postgresql://postgres.your-project-ref:your-password@aws-0-us-west-1.pooler.supabase.com:6543/postgres

# ============================================
# AUTHENTICATION CONFIGURATION
# ============================================

# JWT Secret (for token verification)
SUPABASE_JWT_SECRET=your-jwt-secret-here

# Auth configuration
AUTH_REDIRECT_URL=http://localhost:3000/auth/callback
AUTH_SUCCESS_REDIRECT=http://localhost:3000/dashboard
AUTH_FAILURE_REDIRECT=http://localhost:3000/login

# ============================================
# STORAGE CONFIGURATION
# ============================================

# Supabase Storage bucket names
FOOD_IMAGES_BUCKET=food-images
RECIPE_IMAGES_BUCKET=recipe-images
USER_AVATARS_BUCKET=user-avatars

# ============================================
# API CONFIGURATION
# ============================================

# External nutrition APIs (optional)
EDAMAM_APP_ID=your-edamam-app-id
EDAMAM_APP_KEY=your-edamam-app-key

NUTRITIONIX_APP_ID=your-nutritionix-app-id
NUTRITIONIX_APP_KEY=your-nutritionix-app-key

SPOONACULAR_API_KEY=your-spoonacular-api-key

# ============================================
# ENVIRONMENT CONFIGURATION
# ============================================

# Environment (development, staging, production)
NODE_ENV=development
ENVIRONMENT=development

# Enable debug logging
DEBUG=nutrition:*
VITE_DEBUG=true

# ============================================
# CORS AND SECURITY
# ============================================

# Allowed origins for CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# ============================================
# PERFORMANCE CONFIGURATION
# ============================================

# Cache settings
REDIS_URL=redis://localhost:6379
CACHE_TTL_SECONDS=3600

# Image optimization
IMAGE_QUALITY=80
IMAGE_MAX_WIDTH=1200
IMAGE_MAX_HEIGHT=800

# ============================================
# MONITORING AND ANALYTICS
# ============================================

# Error tracking (optional)
SENTRY_DSN=your-sentry-dsn-here

# Analytics (optional)
GOOGLE_ANALYTICS_ID=your-ga-id-here

# ============================================
# FEATURE FLAGS
# ============================================

# Enable/disable features
ENABLE_RECIPE_SHARING=true
ENABLE_SOCIAL_LOGIN=true
ENABLE_NUTRITION_GOALS=true
ENABLE_BARCODE_SCANNING=true
ENABLE_MEAL_PLANNING=false

# ============================================
# DEVELOPMENT ONLY
# ============================================

# Local development settings
LOCAL_SUPABASE=false
LOCAL_POSTGRES_URL=postgresql://postgres:password@localhost:5432/nutrition_db

# Seed data settings
LOAD_SEED_DATA=true
RESET_DATABASE_ON_STARTUP=false
